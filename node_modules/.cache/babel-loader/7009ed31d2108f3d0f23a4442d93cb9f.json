{"ast":null,"code":"var _jsxFileName = \"/Users/michelle_ma/Desktop/-zilizhou-qianlinma-project3/src/AddJob.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router';\n\nconst {\n  v4: uuid\n} = require('uuid');\n\nimport \"./style/LoginRegister.css\"; // 要修改的是，把state的username拿过来，然后在checklogin之后，直接放入form的owner属性！！！！\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AddJob(props) {\n  _s();\n\n  const navigate = useNavigate();\n  const [jobForm, setJobForm] = useState({\n    id: uuid(),\n    title: '',\n    location: '',\n    companyName: '',\n    description: '',\n    employerEmail: '',\n    companyLink: null,\n    postdate: new Date().toISOString().split(\"T\")[0]\n  });\n  const [myJob, setMyJob] = useState([]);\n\n  function createForm() {\n    if (!jobForm) {\n      setError(\"Please fill out the form.\");\n      return;\n    }\n  }\n\n  function getMyJob() {\n    axios.get('/api/jobs/findAll').then(response => setMyJob(response.data)).catch(error => console.log(error));\n  }\n\n  function checkLogin() {\n    axios.get('/api/users/whoIsLoggedIn').then(() => console.log(\"Success\")).catch(() => navigate('/login'));\n  }\n\n  useEffect(checkLogin, []);\n  useEffect(getMyJob, []);\n\n  function onSubmitAddJobButtonClick() {\n    if (!(jobForm.title && jobForm.location && jobForm.companyName && jobForm.description && jobForm.employerEmail)) {\n      setError(\"You mustfill all the required field!\");\n      return;\n    }\n\n    axios.post(\"/api/jobs/create\", jobForm).then(response => {\n      getMyJob();\n      navigate(\"/job/\" + jobForm.id);\n      console.log(response);\n    }).catch(error => console.error(error));\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n      children: \"Title:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      value: jobForm.title,\n      onChange: e => setJobForm({ ...jobForm,\n        title: e.target.value\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n      children: \"Location:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      value: jobForm.location,\n      onChange: e => setJobForm({ ...jobForm,\n        location: e.target.value\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n      children: \"Company Name:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      value: jobForm.companyName,\n      onChange: e => setJobForm({ ...jobForm,\n        companyName: e.target.value\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n      children: \"Description:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      value: jobForm.description,\n      onChange: e => setJobForm({ ...jobForm,\n        description: e.target.value\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n      children: \"EmployerEmail:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      value: jobForm.employerEmail,\n      onChange: e => setJobForm({ ...jobForm,\n        employerEmail: e.target.value\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n      children: \"Company Link:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      value: jobForm.companyLink,\n      onChange: e => setJobForm({ ...jobForm,\n        companyLink: e.target.value\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n      children: \" Post Date:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      value: jobForm.postdate,\n      onChange: e => setJobForm({ ...jobForm,\n        postdate: e.target.value\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onSubmitAddJobButtonClick,\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AddJob, \"mWjX4DyDpUo0yVHM2bBoaU8LS9E=\", false, function () {\n  return [useNavigate];\n});\n\n_c = AddJob;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddJob\");","map":{"version":3,"sources":["/Users/michelle_ma/Desktop/-zilizhou-qianlinma-project3/src/AddJob.jsx"],"names":["axios","React","useState","useEffect","useNavigate","v4","uuid","require","AddJob","props","navigate","jobForm","setJobForm","id","title","location","companyName","description","employerEmail","companyLink","postdate","Date","toISOString","split","myJob","setMyJob","createForm","setError","getMyJob","get","then","response","data","catch","error","console","log","checkLogin","onSubmitAddJobButtonClick","post","e","target","value"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router';\nconst { v4: uuid } = require('uuid');\nimport \"./style/LoginRegister.css\";\n\n// 要修改的是，把state的username拿过来，然后在checklogin之后，直接放入form的owner属性！！！！\nexport default function AddJob(props) {\n    const navigate = useNavigate();\n    const [jobForm, setJobForm] = useState({\n        id: uuid(),\n        title: '',\n        location: '',\n        companyName: '',\n        description: '',\n        employerEmail: '',\n        companyLink: null,\n        postdate: new Date().toISOString().split(\"T\")[0],\n    });\n\n    const [myJob, setMyJob] = useState([])\n    \n    function createForm() {\n        if (!jobForm) {\n          setError(\"Please fill out the form.\");\n          return;\n        }\n      }\n\n    function getMyJob() {\n        axios.get('/api/jobs/findAll')\n            .then(response => setMyJob(response.data))\n            .catch(error => console.log(error));\n    }\n \n\n    function checkLogin() {\n        axios.get('/api/users/whoIsLoggedIn')\n            .then(() => console.log(\"Success\"))\n            .catch(() => navigate('/login'))\n    }\n\n    useEffect(checkLogin, []);\n    useEffect(getMyJob, []);\n\n    function onSubmitAddJobButtonClick() {\n        if (\n          !(\n            jobForm.title &&\n            jobForm.location &&\n            jobForm.companyName &&\n            jobForm.description &&\n            jobForm.employerEmail\n          )\n        ) {\n          setError(\"You mustfill all the required field!\");\n          return;\n        }\n    \n        axios\n          .post(\"/api/jobs/create\", jobForm)\n          .then((response) => {\n            getMyJob();\n            navigate(\"/job/\" + jobForm.id);\n            console.log(response);\n          })\n          .catch((error) => console.error(error));\n      }\n    \n\n\n    return (\n        <div>\n            <h5>Title:</h5>\n            <input value={jobForm.title}\n                onChange={e => setJobForm({\n                    ...jobForm,\n                    title: e.target.value\n                })} ></input>\n            <h5>Location:</h5>\n            <input value={jobForm.location}\n                onChange={e => setJobForm({\n                    ...jobForm,\n                    location: e.target.value\n                })} ></input>\n            <h5>Company Name:</h5>\n            <input value={jobForm.companyName}\n                onChange={e => setJobForm({\n                    ...jobForm,\n                    companyName: e.target.value\n                })} ></input>\n\n            <h5>Description:</h5>\n            <input value={jobForm.description}\n                onChange={e => setJobForm({\n                    ...jobForm,\n                    description: e.target.value\n                })} ></input>\n\n            <h5>EmployerEmail:</h5>\n            <input value={jobForm.employerEmail}\n                onChange={e => setJobForm({\n                    ...jobForm,\n                    employerEmail: e.target.value\n                })} ></input>\n\n            <h5>Company Link:</h5>\n            <input value={jobForm.companyLink}\n                onChange={e => setJobForm({\n                    ...jobForm,\n                    companyLink: e.target.value\n                })} ></input>\n\n            <h5> Post Date:</h5>\n            <input value={jobForm.postdate}\n                onChange={e => setJobForm({\n                    ...jobForm,\n                    postdate: e.target.value\n                })} ></input>\n\n            <button onClick={\n               onSubmitAddJobButtonClick\n            }>\n                Submit\n            </button>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}