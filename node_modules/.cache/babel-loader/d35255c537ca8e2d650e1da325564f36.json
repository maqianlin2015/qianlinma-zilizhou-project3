{"ast":null,"code":"var _jsxFileName = \"/Users/michelle_ma/Desktop/NEU/Web/Project/-zilizhou-qianlinma-project3/src/MyFavoriteJob.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useParams } from 'react-router';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MyFavoriteJob() {\n  _s();\n\n  const [myfavoriteJobsListID, setMyFavoriteJobsListID] = useState([]);\n  const myusername = useParams().myusername;\n  const [currentUser, setCurrentUser] = useState(); // function checkLogin() {\n  //     axios.get('/api/users/whoIsLoggedIn')\n  //         .then(() => {\n  //             console.log(\"Success\");\n  //             setCurrentUserName(req.session.username);\n  //         })\n  //         .catch(() => navigate('/login'))\n  // }\n  //执行到25行24行没有更新完 \n  // function getUserFavoriteJobIDList() {\n  //     axios.get('/api/users/' + myusername)\n  //         .then(response => {\n  //             setCurrentUser(response.data);\n  //             setMyFavoriteJobsListID(response.data.favorites);\n  //             console.log(response.data.favorites);\n  //         })\n  //         .catch(error => console.error(error));\n  // }\n\n  function getUserFavoriteJobIDList() {\n    axios.get('/api/users/findMyFavirotes/' + myusername).then(response => {\n      setMyFavoriteJobsListID(response.data);\n      console.log(response.data);\n    }).catch(error => console.error(error));\n  }\n\n  useEffect(getUserFavoriteJobIDList, []); // console.log(myFavoriteJobIdList);\n  // useEffect(checkLogin, []);\n\n  const helperComponent = myfavoriteJobsListID ? /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: favoritejobListComponent\n  }, void 0, false) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 6\n  }, this);\n\n  function findJob(jobId) {\n    axios.get('/api/jobs/find/findById/' + jobId).then(response => {\n      return response.data;\n    }).catch(error => console.error(error));\n  } // console.log(myFavoriteList);\n  // useEffect(findAllMyFavoriteJobs, []);\n\n\n  const favoritejobListComponent = myfavoriteJobsListID.map(jobId => {\n    const job = findJob(jobId);\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/job/\" + job.id,\n          children: [job.title, \" - \", job.location, \" - \", job.companyName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this)\n    }, void 0, false);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"My favorite jobs: \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this), helperComponent]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 9\n  }, this);\n}\n\n_s(MyFavoriteJob, \"LvtiPEldhNJwNXdY/LJhSdflq0s=\", false, function () {\n  return [useParams];\n});\n\n_c = MyFavoriteJob;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyFavoriteJob\");","map":{"version":3,"sources":["/Users/michelle_ma/Desktop/NEU/Web/Project/-zilizhou-qianlinma-project3/src/MyFavoriteJob.jsx"],"names":["axios","React","useEffect","useState","Link","useParams","MyFavoriteJob","myfavoriteJobsListID","setMyFavoriteJobsListID","myusername","currentUser","setCurrentUser","getUserFavoriteJobIDList","get","then","response","data","console","log","catch","error","helperComponent","favoritejobListComponent","findJob","jobId","map","job","id","title","location","companyName"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,SAAT,QAA0B,cAA1B;;;AAEA,eAAe,SAASC,aAAT,GAAyB;AAAA;;AACpC,QAAM,CAACC,oBAAD,EAAuBC,uBAAvB,IAAkDL,QAAQ,CAAC,EAAD,CAAhE;AACA,QAAMM,UAAU,GAAGJ,SAAS,GAAGI,UAA/B;AACA,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCR,QAAQ,EAA9C,CAHoC,CAMpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIJ;AACI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,WAASS,wBAAT,GAAoC;AAChCZ,IAAAA,KAAK,CAACa,GAAN,CAAU,gCAAgCJ,UAA1C,EACKK,IADL,CACUC,QAAQ,IAAI;AACdP,MAAAA,uBAAuB,CAACO,QAAQ,CAACC,IAAV,CAAvB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACC,IAArB;AACH,KAJL,EAKKG,KALL,CAKWC,KAAK,IAAIH,OAAO,CAACG,KAAR,CAAcA,KAAd,CALpB;AAMH;;AAEDlB,EAAAA,SAAS,CAACU,wBAAD,EAA2B,EAA3B,CAAT,CArCoC,CAuCpC;AACA;;AAEA,QAAMS,eAAe,GAAId,oBAAD,gBACvB;AAAA,cACIe;AADJ,mBADuB,gBAIvB;AAAA;AAAA;AAAA;AAAA,UAJD;;AAMA,WAASC,OAAT,CAAiBC,KAAjB,EAAwB;AACpBxB,IAAAA,KAAK,CAACa,GAAN,CAAU,6BAA6BW,KAAvC,EACKV,IADL,CACUC,QAAQ,IAAI;AACd,aAAOA,QAAQ,CAACC,IAAhB;AACH,KAHL,EAIKG,KAJL,CAIWC,KAAK,IAAIH,OAAO,CAACG,KAAR,CAAcA,KAAd,CAJpB;AAKH,GAtDmC,CAwDpC;AAEA;;;AAEA,QAAME,wBAAwB,GAAGf,oBAAoB,CAACkB,GAArB,CAAyBD,KAAK,IAAI;AAC/D,UAAME,GAAG,GAAGH,OAAO,CAACC,KAAD,CAAnB;AACA,wBAAQ;AAAA,6BACJ;AAAA,+BACI,QAAC,IAAD;AAAM,UAAA,EAAE,EAAE,UAAUE,GAAG,CAACC,EAAxB;AAAA,qBAA6BD,GAAG,CAACE,KAAjC,SAA2CF,GAAG,CAACG,QAA/C,SAA4DH,GAAG,CAACI,WAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADI,qBAAR;AAKH,GAPgC,CAAjC;AASA,sBACI;AAAA,4BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,EAEKT,eAFL;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAMH;;GA3EuBf,a;UAEDD,S;;;KAFCC,a","sourcesContent":["import axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useParams } from 'react-router';\n\nexport default function MyFavoriteJob() {\n    const [myfavoriteJobsListID, setMyFavoriteJobsListID] = useState([]);\n    const myusername = useParams().myusername;\n    const [currentUser, setCurrentUser] = useState();\n   \n\n    // function checkLogin() {\n    //     axios.get('/api/users/whoIsLoggedIn')\n    //         .then(() => {\n    //             console.log(\"Success\");\n    //             setCurrentUserName(req.session.username);\n    //         })\n    //         .catch(() => navigate('/login'))\n    // }\n\n\n\n//执行到25行24行没有更新完 \n    // function getUserFavoriteJobIDList() {\n    //     axios.get('/api/users/' + myusername)\n    //         .then(response => {\n    //             setCurrentUser(response.data);\n    //             setMyFavoriteJobsListID(response.data.favorites);\n    //             console.log(response.data.favorites);\n    //         })\n    //         .catch(error => console.error(error));\n    // }\n\n    function getUserFavoriteJobIDList() {\n        axios.get('/api/users/findMyFavirotes/' + myusername)\n            .then(response => { \n                setMyFavoriteJobsListID(response.data);\n                console.log(response.data);\n            })\n            .catch(error => console.error(error));\n    }\n\n    useEffect(getUserFavoriteJobIDList, []);\n \n    // console.log(myFavoriteJobIdList);\n    // useEffect(checkLogin, []);\n\n    const helperComponent = (myfavoriteJobsListID) ?\n    (<>\n        {favoritejobListComponent}\n    </>) :\n    (<div></div>);\n\n    function findJob(jobId) { \n        axios.get('/api/jobs/find/findById/' + jobId)\n            .then(response => {\n                return response.data;\n            })\n            .catch(error => console.error(error));\n    }\n\n    // console.log(myFavoriteList);\n\n    // useEffect(findAllMyFavoriteJobs, []);\n\n    const favoritejobListComponent = myfavoriteJobsListID.map(jobId => {\n        const job = findJob(jobId);\n        return (<>\n            <p>\n                <Link to={\"/job/\" + job.id}>{job.title} - {job.location} - {job.companyName}</Link>\n            </p>\n        </>)\n    })\n\n    return (\n        <div>\n            <h1>My favorite jobs: </h1>\n            {helperComponent}\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}