{"ast":null,"code":"var _jsxFileName = \"/Users/zili/-zilizhou-qianlinma-project3/src/JobSearchResult.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useParams } from \"react-router\";\nimport UserNavBar from \"./UserNavBar\";\nimport NavBar from \"./NavBar\";\nimport { useNavigate } from \"react-router\";\nimport \"./style/Job.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function JobSearchResult() {\n  _s();\n\n  const [selectedJob, setSelectedJob] = useState([]);\n  const jobSearchQuery = useParams().jobSearchQuery;\n  const [currentUserName, setCurrentUserName] = useState(null);\n  const navigate = useNavigate();\n\n  function findSelectedJob() {\n    axios.get(\"/api/jobs/find/findByTitle/\" + jobSearchQuery).then(response => {\n      setSelectedJob(response.data);\n    }).catch(error => console.error(error));\n  }\n\n  function checkLogin() {\n    console.log(\"1\");\n    axios.get(\"/api/users/whoIsLoggedIn\").then(response => {\n      console.log(\"Success\"); // console.log(response);\n\n      setCurrentUserName(response.data);\n    }).catch(() => navigate(\"/login\"));\n  }\n\n  useEffect(checkLogin, []);\n\n  function checkLogout() {\n    console.log(\"2\");\n    axios.get(\"/api/users/logout\").then(response => {\n      console.log(\"Logout!\"); // console.log(response);\n\n      setCurrentUserName(null);\n    }).catch(() => navigate(\"/\"));\n  }\n\n  useEffect(checkLogout, []);\n  console.log(\"this is selected jobs:\");\n  console.log(selectedJob);\n  useEffect(findSelectedJob, []);\n  console.log(\"curUserName\" + currentUserName);\n  const tmp = currentUserName ? /*#__PURE__*/_jsxDEV(UserNavBar, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 33\n  }, this) : /*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 50\n  }, this);\n  const jobListComponent = selectedJob.map(job => {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/job/\" + job.id,\n          children: [job.title, \" - \", job.location, \" - \", job.companyName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [tmp, /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"favoriate_result\",\n      children: \"These are search result the jobs: \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"link\",\n      children: jobListComponent\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n}\n\n_s(JobSearchResult, \"CJl0r74kyx30ORCCa1Njj8A3CXk=\", false, function () {\n  return [useParams, useNavigate];\n});\n\n_c = JobSearchResult;\n\nvar _c;\n\n$RefreshReg$(_c, \"JobSearchResult\");","map":{"version":3,"sources":["/Users/zili/-zilizhou-qianlinma-project3/src/JobSearchResult.jsx"],"names":["axios","React","useEffect","useState","Link","useParams","UserNavBar","NavBar","useNavigate","JobSearchResult","selectedJob","setSelectedJob","jobSearchQuery","currentUserName","setCurrentUserName","navigate","findSelectedJob","get","then","response","data","catch","error","console","checkLogin","log","checkLogout","tmp","jobListComponent","map","job","id","title","location","companyName"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useParams } from \"react-router\";\nimport UserNavBar from \"./UserNavBar\";\nimport NavBar from \"./NavBar\";\nimport { useNavigate } from \"react-router\";\nimport \"./style/Job.css\";\n\nexport default function JobSearchResult() {\n  const [selectedJob, setSelectedJob] = useState([]);\n  const jobSearchQuery = useParams().jobSearchQuery;\n  const [currentUserName, setCurrentUserName] = useState(null);\n  const navigate = useNavigate();\n\n  function findSelectedJob() {\n    axios\n      .get(\"/api/jobs/find/findByTitle/\" + jobSearchQuery)\n      .then((response) => {\n        setSelectedJob(response.data);\n      })\n      .catch((error) => console.error(error));\n  }\n\n  function checkLogin() {\n    console.log(\"1\");\n    axios\n      .get(\"/api/users/whoIsLoggedIn\")\n      .then((response) => {\n        console.log(\"Success\");\n        // console.log(response);\n        setCurrentUserName(response.data);\n      })\n      .catch(() => navigate(\"/login\"));\n  }\n\n  useEffect(checkLogin, []);\n\n  function checkLogout() {\n    console.log(\"2\");\n    axios\n      .get(\"/api/users/logout\")\n      .then((response) => {\n        console.log(\"Logout!\");\n        // console.log(response);\n        setCurrentUserName(null);\n      })\n      .catch(() => navigate(\"/\"));\n  }\n\n  useEffect(checkLogout, []);\n\n  console.log(\"this is selected jobs:\");\n  console.log(selectedJob);\n  useEffect(findSelectedJob, []);\n\n  console.log(\"curUserName\" + currentUserName);\n  const tmp = currentUserName ? <UserNavBar /> : <NavBar />;\n\n  const jobListComponent = selectedJob.map((job) => {\n    return (\n      <>\n        <p>\n          {/* 别忘了job前面加/ */}\n          <Link to={\"/job/\" + job.id}>\n            {job.title} - {job.location} - {job.companyName}\n          </Link>\n        </p>\n      </>\n    );\n  });\n\n  return (\n    <div>\n      {tmp}\n      <h1 className=\"favoriate_result\">These are search result the jobs: </h1>\n      <section id=\"link\">{jobListComponent}</section>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}