{"ast":null,"code":"import _toConsumableArray from\"/Users/michelle_ma/Desktop/web-project3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _createForOfIteratorHelper from\"/Users/michelle_ma/Desktop/web-project3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _slicedToArray from\"/Users/michelle_ma/Desktop/web-project3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from'axios';import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import{useParams}from'react-router';import\"./style/Job.css\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function MyFavoriteJob(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),myfavoriteJobsListID=_useState2[0],setMyFavoriteJobsListID=_useState2[1];var myusername=useParams().myusername;var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),currentUser=_useState4[0],setCurrentUser=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),jobArray=_useState6[0],setJobArray=_useState6[1];function getUserFavoriteJobIDList(){axios.get('/api/users/findMyFavorites/'+myusername).then(function(response){setMyFavoriteJobsListID(response.data);var _iterator=_createForOfIteratorHelper(response.data),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var jobId=_step.value;axios.get('/api/jobs/find/findById/'+jobId).then(function(response){setJobArray([].concat(_toConsumableArray(jobArray),[response.data]));}).catch(function(error){return console.log(error);});}}catch(err){_iterator.e(err);}finally{_iterator.f();}}).catch(function(error){return console.error(error);});}useEffect(getUserFavoriteJobIDList,[]);var favoritejobListComponent=jobArray.map(function(job){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/job/\"+job[0].id,children:[job[0].title,\" - \",job[0].location,\" - \",job[0].companyName]})})});});var helperComponent=jobArray.length>0?/*#__PURE__*/_jsx(_Fragment,{children:favoritejobListComponent}):/*#__PURE__*/_jsx(\"div\",{});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"favoriate_result\",children:\"My favorite jobs\"}),/*#__PURE__*/_jsxs(\"section\",{id:\"link\",children:[\" \",helperComponent,\" \"]})]});}","map":{"version":3,"sources":["/Users/michelle_ma/Desktop/web-project3/src/MyFavoriteJob.jsx"],"names":["axios","React","useEffect","useState","Link","useParams","MyFavoriteJob","myfavoriteJobsListID","setMyFavoriteJobsListID","myusername","currentUser","setCurrentUser","jobArray","setJobArray","getUserFavoriteJobIDList","get","then","response","data","jobId","catch","error","console","log","favoritejobListComponent","map","job","id","title","location","companyName","helperComponent","length"],"mappings":"0fAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,SAAT,KAA0B,cAA1B,CACA,MAAO,iBAAP,C,6IAEA,cAAe,SAASC,CAAAA,aAAT,EAAyB,CACpC,cAAwDH,QAAQ,CAAC,EAAD,CAAhE,wCAAOI,oBAAP,eAA6BC,uBAA7B,eACA,GAAMC,CAAAA,UAAU,CAAGJ,SAAS,GAAGI,UAA/B,CACA,eAAsCN,QAAQ,EAA9C,yCAAOO,WAAP,eAAoBC,cAApB,eACA,eAAgCR,QAAQ,CAAC,EAAD,CAAxC,yCAAOS,QAAP,eAAiBC,WAAjB,eAEA,QAASC,CAAAA,wBAAT,EAAoC,CAChCd,KAAK,CAACe,GAAN,CAAU,8BAAgCN,UAA1C,EACKO,IADL,CACU,SAAAC,QAAQ,CAAI,CACdT,uBAAuB,CAACS,QAAQ,CAACC,IAAV,CAAvB,CADc,yCAEID,QAAQ,CAACC,IAFb,YAEd,+CAAiC,IAAxBC,CAAAA,KAAwB,aAC7BnB,KAAK,CAACe,GAAN,CAAU,2BAA6BI,KAAvC,EACKH,IADL,CACU,SAAAC,QAAQ,CAAI,CACdJ,WAAW,8BACJD,QADI,GAEPK,QAAQ,CAACC,IAFF,GAAX,CAIH,CANL,EAOKE,KAPL,CAOW,SAAAC,KAAK,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAJ,EAPhB,EAQH,CAXa,qDAYjB,CAbL,EAcKD,KAdL,CAcW,SAAAC,KAAK,QAAIC,CAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd,CAAJ,EAdhB,EAeH,CAGDnB,SAAS,CAACY,wBAAD,CAA2B,EAA3B,CAAT,CACA,GAAMU,CAAAA,wBAAwB,CAAGZ,QAAQ,CAACa,GAAT,CAAa,SAAAC,GAAG,CAAI,CACjD,mBAAQ,sCACJ,gCACI,MAAC,IAAD,EAAM,EAAE,CAAE,QAAUA,GAAG,CAAC,CAAD,CAAH,CAAOC,EAA3B,WAAgCD,GAAG,CAAC,CAAD,CAAH,CAAOE,KAAvC,OAAiDF,GAAG,CAAC,CAAD,CAAH,CAAOG,QAAxD,OAAqEH,GAAG,CAAC,CAAD,CAAH,CAAOI,WAA5E,GADJ,EADI,EAAR,CAKH,CANgC,CAAjC,CAQA,GAAMC,CAAAA,eAAe,CAAInB,QAAQ,CAACoB,MAAT,CAAkB,CAAnB,cACnB,yBACIR,wBADJ,EADmB,cAInB,cAJL,CAKA,mBACI,oCACI,WAAI,SAAS,CAAC,kBAAd,8BADJ,cAEI,iBAAS,EAAE,CAAC,MAAZ,eAAqBO,eAArB,OAFJ,GADJ,CAMH","sourcesContent":["import axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useParams } from 'react-router';\nimport \"./style/Job.css\";\n\nexport default function MyFavoriteJob() {\n    const [myfavoriteJobsListID, setMyFavoriteJobsListID] = useState([]);\n    const myusername = useParams().myusername;\n    const [currentUser, setCurrentUser] = useState();\n    const [jobArray, setJobArray] = useState([]);\n\n    function getUserFavoriteJobIDList() {\n        axios.get('/api/users/findMyFavorites/' + myusername)\n            .then(response => {\n                setMyFavoriteJobsListID(response.data);\n                for (let jobId of response.data) {\n                    axios.get('/api/jobs/find/findById/' + jobId)\n                        .then(response => {\n                            setJobArray([\n                                ...jobArray,\n                                response.data\n                            ]);\n                        })\n                        .catch(error => console.log(error));\n                }\n            })\n            .catch(error => console.error(error));\n    }\n\n\n    useEffect(getUserFavoriteJobIDList, []);\n    const favoritejobListComponent = jobArray.map(job => {\n        return (<>\n            <p>\n                <Link to={\"/job/\" + job[0].id}>{job[0].title} - {job[0].location} - {job[0].companyName}</Link>\n            </p>\n        </>)\n    })\n\n    const helperComponent = (jobArray.length > 0) ?\n        (<>\n            {favoritejobListComponent}\n        </>) :\n        (<div></div>)\n    return (\n        <div>\n            <h1 className=\"favoriate_result\">My favorite jobs</h1>\n            <section id=\"link\"> {helperComponent} </section>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}