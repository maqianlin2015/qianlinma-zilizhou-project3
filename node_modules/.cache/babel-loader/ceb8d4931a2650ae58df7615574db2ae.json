{"ast":null,"code":"var _jsxFileName = \"/Users/zili/-zilizhou-qianlinma-project3/src/JobSearchResult.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useParams } from \"react-router\";\nimport UserNavBar from \"./UserNavBar\";\nimport NavBar from \"./NavBar\";\nimport \"./style/Job.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function JobSearchResult() {\n  _s();\n\n  const [selectedJob, setSelectedJob] = useState([]);\n  const jobSearchQuery = useParams().jobSearchQuery;\n\n  function findSelectedJob() {\n    axios.get(\"/api/jobs/find/findByTitle/\" + jobSearchQuery).then(response => {\n      setSelectedJob(response.data);\n    }).catch(error => console.error(error));\n  }\n\n  function checkLogin() {\n    axios.get(\"/api/users/whoIsLoggedIn\").then(response => {\n      console.log(\"Success\"); // console.log(response);\n\n      setCurrentUserName(response.data);\n    }).catch(() => navigate(\"/login\"));\n  }\n\n  useEffect(checkLogin, []);\n\n  function checkLogout() {\n    axios.get(\"/api/users/logout\").then(response => {\n      console.log(\"Logout!\"); // console.log(response);\n\n      setCurrentUserName(null);\n    }).catch(() => navigate(\"/\"));\n  }\n\n  useEffect(checkLogout, []);\n  console.log(\"this is selected jobs:\");\n  console.log(selectedJob);\n  useEffect(findSelectedJob, []);\n  console.log(\"curUserName\" + currentUserName);\n  const tmp = currentUserName ? /*#__PURE__*/_jsxDEV(UserNavBar, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 33\n  }, this) : /*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 50\n  }, this);\n  const jobListComponent = selectedJob.map(job => {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/job/\" + job.id,\n          children: [job.title, \" - \", job.location, \" - \", job.companyName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [tmp, /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"favoriate_result\",\n      children: \"These are search result the jobs: \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"link\",\n      children: jobListComponent\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n}\n\n_s(JobSearchResult, \"+en4UQY9yu1oKBgeQZrMgzCaa5M=\", false, function () {\n  return [useParams];\n});\n\n_c = JobSearchResult;\n\nvar _c;\n\n$RefreshReg$(_c, \"JobSearchResult\");","map":{"version":3,"sources":["/Users/zili/-zilizhou-qianlinma-project3/src/JobSearchResult.jsx"],"names":["axios","React","useEffect","useState","Link","useParams","UserNavBar","NavBar","JobSearchResult","selectedJob","setSelectedJob","jobSearchQuery","findSelectedJob","get","then","response","data","catch","error","console","checkLogin","log","setCurrentUserName","navigate","checkLogout","currentUserName","tmp","jobListComponent","map","job","id","title","location","companyName"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,SAAT,QAA0B,cAA1B;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAO,iBAAP;;;AAEA,eAAe,SAASC,eAAT,GAA2B;AAAA;;AACxC,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCP,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAMQ,cAAc,GAAGN,SAAS,GAAGM,cAAnC;;AAEA,WAASC,eAAT,GAA2B;AACzBZ,IAAAA,KAAK,CACFa,GADH,CACO,gCAAgCF,cADvC,EAEGG,IAFH,CAESC,QAAD,IAAc;AAClBL,MAAAA,cAAc,CAACK,QAAQ,CAACC,IAAV,CAAd;AACD,KAJH,EAKGC,KALH,CAKUC,KAAD,IAAWC,OAAO,CAACD,KAAR,CAAcA,KAAd,CALpB;AAMD;;AAED,WAASE,UAAT,GAAsB;AACpBpB,IAAAA,KAAK,CACFa,GADH,CACO,0BADP,EAEGC,IAFH,CAESC,QAAD,IAAc;AAClBI,MAAAA,OAAO,CAACE,GAAR,CAAY,SAAZ,EADkB,CAElB;;AACAC,MAAAA,kBAAkB,CAACP,QAAQ,CAACC,IAAV,CAAlB;AACD,KANH,EAOGC,KAPH,CAOS,MAAMM,QAAQ,CAAC,QAAD,CAPvB;AAQD;;AAEDrB,EAAAA,SAAS,CAACkB,UAAD,EAAa,EAAb,CAAT;;AAEA,WAASI,WAAT,GAAuB;AACrBxB,IAAAA,KAAK,CACFa,GADH,CACO,mBADP,EAEGC,IAFH,CAESC,QAAD,IAAc;AAClBI,MAAAA,OAAO,CAACE,GAAR,CAAY,SAAZ,EADkB,CAElB;;AACAC,MAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACD,KANH,EAOGL,KAPH,CAOS,MAAMM,QAAQ,CAAC,GAAD,CAPvB;AAQD;;AAEDrB,EAAAA,SAAS,CAACsB,WAAD,EAAc,EAAd,CAAT;AAEAL,EAAAA,OAAO,CAACE,GAAR,CAAY,wBAAZ;AACAF,EAAAA,OAAO,CAACE,GAAR,CAAYZ,WAAZ;AACAP,EAAAA,SAAS,CAACU,eAAD,EAAkB,EAAlB,CAAT;AAEAO,EAAAA,OAAO,CAACE,GAAR,CAAY,gBAAgBI,eAA5B;AACA,QAAMC,GAAG,GAAGD,eAAe,gBAAG,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA,UAAH,gBAAoB,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,UAA/C;AAEA,QAAME,gBAAgB,GAAGlB,WAAW,CAACmB,GAAZ,CAAiBC,GAAD,IAAS;AAChD,wBACE;AAAA,6BACE;AAAA,+BAEE,QAAC,IAAD;AAAM,UAAA,EAAE,EAAE,UAAUA,GAAG,CAACC,EAAxB;AAAA,qBACGD,GAAG,CAACE,KADP,SACiBF,GAAG,CAACG,QADrB,SACkCH,GAAG,CAACI,WADtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAFF;AAAA;AAAA;AAAA;AAAA;AADF,qBADF;AAUD,GAXwB,CAAzB;AAaA,sBACE;AAAA,eACGP,GADH,eAEE;AAAI,MAAA,SAAS,EAAC,kBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,eAGE;AAAS,MAAA,EAAE,EAAC,MAAZ;AAAA,gBAAoBC;AAApB;AAAA;AAAA;AAAA;AAAA,YAHF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAOD;;GAlEuBnB,e;UAECH,S;;;KAFDG,e","sourcesContent":["import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useParams } from \"react-router\";\nimport UserNavBar from \"./UserNavBar\";\nimport NavBar from \"./NavBar\";\nimport \"./style/Job.css\";\n\nexport default function JobSearchResult() {\n  const [selectedJob, setSelectedJob] = useState([]);\n  const jobSearchQuery = useParams().jobSearchQuery;\n\n  function findSelectedJob() {\n    axios\n      .get(\"/api/jobs/find/findByTitle/\" + jobSearchQuery)\n      .then((response) => {\n        setSelectedJob(response.data);\n      })\n      .catch((error) => console.error(error));\n  }\n\n  function checkLogin() {\n    axios\n      .get(\"/api/users/whoIsLoggedIn\")\n      .then((response) => {\n        console.log(\"Success\");\n        // console.log(response);\n        setCurrentUserName(response.data);\n      })\n      .catch(() => navigate(\"/login\"));\n  }\n\n  useEffect(checkLogin, []);\n\n  function checkLogout() {\n    axios\n      .get(\"/api/users/logout\")\n      .then((response) => {\n        console.log(\"Logout!\");\n        // console.log(response);\n        setCurrentUserName(null);\n      })\n      .catch(() => navigate(\"/\"));\n  }\n\n  useEffect(checkLogout, []);\n\n  console.log(\"this is selected jobs:\");\n  console.log(selectedJob);\n  useEffect(findSelectedJob, []);\n\n  console.log(\"curUserName\" + currentUserName);\n  const tmp = currentUserName ? <UserNavBar /> : <NavBar />;\n\n  const jobListComponent = selectedJob.map((job) => {\n    return (\n      <>\n        <p>\n          {/* 别忘了job前面加/ */}\n          <Link to={\"/job/\" + job.id}>\n            {job.title} - {job.location} - {job.companyName}\n          </Link>\n        </p>\n      </>\n    );\n  });\n\n  return (\n    <div>\n      {tmp}\n      <h1 className=\"favoriate_result\">These are search result the jobs: </h1>\n      <section id=\"link\">{jobListComponent}</section>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}