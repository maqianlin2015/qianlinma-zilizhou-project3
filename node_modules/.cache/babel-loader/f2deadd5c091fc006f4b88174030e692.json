{"ast":null,"code":"import _objectSpread from\"/Users/michelle_ma/Desktop/web-project3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/michelle_ma/Desktop/web-project3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from'axios';import React,{useState,useEffect}from'react';import{useNavigate}from'react-router';import{useParams}from'react-router';import{useSelector,useDispatch}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function EditJob(props){var jobId=useParams().jobId;var state=useSelector(function(state){return state;});var username=useSelector(function(state){return state.username;});var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),job=_useState2[0],setJob=_useState2[1];var _useState3=useState({id:jobId,title:'',location:'',companyName:'',description:'',employerEmail:'',companyLink:'',postdate:'',owner:username}),_useState4=_slicedToArray(_useState3,2),jobForm=_useState4[0],setJobForm=_useState4[1];function checkLogin(){axios.get('/api/users/whoIsLoggedIn').then(function(){return console.log(\"Success Login\");}).catch(function(){return navigate('/login');});}useEffect(checkLogin,[]);function findJobDetails(){axios.get('/api/jobs/find/findById/'+jobId).then(function(response){return setJobForm(response.data[0]);}).catch(function(error){return console.log(\"Could not find Job\");});}useEffect(findJobDetails,[]);return/*#__PURE__*/_jsx(\"section\",{className:\"job-container\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Edit My Posting: \"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Title:\"}),/*#__PURE__*/_jsx(\"input\",{value:jobForm.title,onChange:function onChange(e){return setJobForm(_objectSpread(_objectSpread({},jobForm),{},{title:e.target.value}));}}),/*#__PURE__*/_jsx(\"h5\",{children:\"Location:\"}),/*#__PURE__*/_jsx(\"input\",{value:jobForm.location,onChange:function onChange(e){return setJobForm(_objectSpread(_objectSpread({},jobForm),{},{location:e.target.value}));}}),/*#__PURE__*/_jsx(\"h5\",{children:\"Company Name:\"}),/*#__PURE__*/_jsx(\"input\",{value:jobForm.companyName,onChange:function onChange(e){return setJobForm(_objectSpread(_objectSpread({},jobForm),{},{companyName:e.target.value}));}}),/*#__PURE__*/_jsx(\"h5\",{children:\"Description:\"}),/*#__PURE__*/_jsx(\"textarea\",{value:jobForm.description,onChange:function onChange(e){return setJobForm(_objectSpread(_objectSpread({},jobForm),{},{description:e.target.value}));}}),/*#__PURE__*/_jsx(\"h5\",{children:\"EmployerEmail:\"}),/*#__PURE__*/_jsx(\"input\",{value:jobForm.employerEmail,onChange:function onChange(e){return setJobForm(_objectSpread(_objectSpread({},jobForm),{},{employerEmail:e.target.value}));}}),/*#__PURE__*/_jsx(\"h5\",{children:\"Company Link:\"}),/*#__PURE__*/_jsx(\"input\",{value:jobForm.companyLink,onChange:function onChange(e){return setJobForm(_objectSpread(_objectSpread({},jobForm),{},{companyLink:e.target.value}));}}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return axios.post('/api/jobs/update/'+jobId,jobForm).then(function(response){console.log(response);navigate('/job/'+jobId);}).catch(function(error){return console.error(error);});},children:\"Submit Update\"})})]})});}","map":{"version":3,"sources":["/Users/michelle_ma/Desktop/web-project3/src/EditJob.jsx"],"names":["axios","React","useState","useEffect","useNavigate","useParams","useSelector","useDispatch","EditJob","props","jobId","state","username","navigate","job","setJob","id","title","location","companyName","description","employerEmail","companyLink","postdate","owner","jobForm","setJobForm","checkLogin","get","then","console","log","catch","findJobDetails","response","data","error","e","target","value","post"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router';\nimport { useParams } from 'react-router';\nimport { useSelector, useDispatch } from \"react-redux\";\n\nexport default function EditJob(props) {\n    const jobId = useParams().jobId;\n    const state = useSelector((state) => state);\n    const username = useSelector(state => state.username);\n    const navigate = useNavigate();\n    const [job, setJob] = useState([]);\n    const [jobForm, setJobForm] = useState({\n        id: jobId,\n        title: '',\n        location: '',\n        companyName: '',\n        description: '',\n        employerEmail: '',\n        companyLink: '',\n        postdate: '',\n        owner: username\n    });\n\n    function checkLogin() {\n        axios.get('/api/users/whoIsLoggedIn')\n            .then(() => console.log(\"Success Login\"))\n            .catch(() => navigate('/login'))\n    }\n    useEffect(checkLogin, []);\n\n    function findJobDetails() {\n        axios.get('/api/jobs/find/findById/' + jobId)\n            .then(\n                response => setJobForm(response.data[0]))\n            .catch(error => console.log(\"Could not find Job\"))\n    }\n    useEffect(findJobDetails, []);\n\n\n    return (\n        <section className=\"job-container\">\n            <div>\n                <h2>Edit My Posting: </h2>\n                <h5>Title:</h5>\n                <input value={jobForm.title}\n                    onChange={e => setJobForm({\n                        ...jobForm,\n                        title: e.target.value\n                    })} ></input>\n                <h5>Location:</h5>\n                <input value={jobForm.location}\n                    onChange={e => setJobForm({\n                        ...jobForm,\n                        location: e.target.value\n                    })} ></input>\n                <h5>Company Name:</h5>\n                <input value={jobForm.companyName}\n                    onChange={e => setJobForm({\n                        ...jobForm,\n                        companyName: e.target.value\n                    })} ></input>\n\n                <h5>Description:</h5>\n                <textarea value={jobForm.description}\n                    onChange={e => setJobForm({\n                        ...jobForm,\n                        description: e.target.value\n                    })} ></textarea>\n\n                <h5>EmployerEmail:</h5>\n                <input value={jobForm.employerEmail}\n                    onChange={e => setJobForm({\n                        ...jobForm,\n                        employerEmail: e.target.value\n                    })} ></input>\n\n                <h5>Company Link:</h5>\n                <input value={jobForm.companyLink}\n                    onChange={e => setJobForm({\n                        ...jobForm,\n                        companyLink: e.target.value\n                    })} ></input>\n\n                <div>\n                    <button onClick={\n                        () => axios.post('/api/jobs/update/' + jobId, jobForm)\n                            .then(response => {\n                                console.log(response);\n                                navigate('/job/' + jobId);\n                            })\n                            .catch(error => console.error(error))\n                    }>\n                        Submit Update\n                    </button >\n                </div>\n            </div>\n        </section>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}