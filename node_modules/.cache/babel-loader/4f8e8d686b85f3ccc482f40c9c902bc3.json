{"ast":null,"code":"import _objectSpread from\"/Users/michelle_ma/Desktop/web-project3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/michelle_ma/Desktop/web-project3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from'axios';import React,{useState}from'react';import{useNavigate}from'react-router';import{useSelector,useDispatch}from\"react-redux\";import\"./style/LoginRegister.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default(function(props){var navigate=useNavigate();var dispatch=useDispatch();var _useState=useState({password:'',username:''}),_useState2=_slicedToArray(_useState,2),userData=_useState2[0],setUserData=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),errorMsg=_useState4[0],setError=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),loggedInName=_useState6[0],setLoggedInName=_useState6[1];return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"section\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Username: \"}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",value:userData.username,onChange:function onChange(e){var username=e.target.value;setUserData(_objectSpread(_objectSpread({},userData),{},{username:username}));}}),/*#__PURE__*/_jsx(\"h5\",{children:\"Password: \"}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",value:userData.password,onChange:function onChange(e){var password=e.target.value;setUserData(_objectSpread(_objectSpread({},userData),{},{password:password}));},type:\"password\"}),/*#__PURE__*/_jsx(\"button\",{id:\"log-register-btn\",onClick:function onClick(){if(!(userData.password&&userData.username)){setError(\"You must fill all field!\");return;}axios.post('/api/users/authenticate',userData).then(function(response){dispatch({type:'LOGGED_IN',username:response.data});navigate(\"/jobSearch\");console.log(response);}).catch(function(error){return console.log(error);});},children:\"Login\"}),/*#__PURE__*/_jsx(\"p\",{id:\"msg\",children:/*#__PURE__*/_jsx(\"b\",{children:errorMsg})})]})});});","map":{"version":3,"sources":["/Users/michelle_ma/Desktop/web-project3/src/Login.jsx"],"names":["axios","React","useState","useNavigate","useSelector","useDispatch","props","navigate","dispatch","password","username","userData","setUserData","errorMsg","setError","loggedInName","setLoggedInName","e","target","value","post","then","response","type","data","console","log","catch","error"],"mappings":"2TAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,WAAT,KAA4B,cAA5B,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAO,2BAAP,C,wFAEA,eAAe,SAACC,KAAD,CAAW,CACtB,GAAMC,CAAAA,QAAQ,CAAGJ,WAAW,EAA5B,CACA,GAAMK,CAAAA,QAAQ,CAAGH,WAAW,EAA5B,CACA,cAAgCH,QAAQ,CAAC,CACrCO,QAAQ,CAAE,EAD2B,CAErCC,QAAQ,CAAE,EAF2B,CAAD,CAAxC,wCAAOC,QAAP,eAAiBC,WAAjB,eAIA,eAA6BV,QAAQ,CAAC,IAAD,CAArC,yCAAOW,QAAP,eAAiBC,QAAjB,eACA,eAAwCZ,QAAQ,CAAC,EAAD,CAAhD,yCAAOa,YAAP,eAAqBC,eAArB,eAEA,mBACI,kCACI,iBAAS,SAAS,CAAC,MAAnB,wBACI,6BADJ,cAEI,kCAFJ,cAGI,cAAO,SAAS,CAAC,OAAjB,CAAyB,KAAK,CAAEL,QAAQ,CAACD,QAAzC,CAAmD,QAAQ,CAAE,kBAACO,CAAD,CAAO,CAChE,GAAMP,CAAAA,QAAQ,CAAGO,CAAC,CAACC,MAAF,CAASC,KAA1B,CACAP,WAAW,gCACJD,QADI,MAEPD,QAAQ,CAAEA,QAFH,GAAX,CAIH,CAND,EAHJ,cAUI,kCAVJ,cAWI,cAAO,SAAS,CAAC,OAAjB,CAAyB,KAAK,CAAEC,QAAQ,CAACF,QAAzC,CAAmD,QAAQ,CAAE,kBAACQ,CAAD,CAAO,CAChE,GAAMR,CAAAA,QAAQ,CAAGQ,CAAC,CAACC,MAAF,CAASC,KAA1B,CACAP,WAAW,gCACJD,QADI,MAEPF,QAAQ,CAAEA,QAFH,GAAX,CAIH,CAND,CAMG,IAAI,CAAC,UANR,EAXJ,cAkBI,eAAQ,EAAE,CAAC,kBAAX,CACI,OAAO,CAAE,kBAAM,CACX,GAAI,EAAEE,QAAQ,CAACF,QAAT,EAAqBE,QAAQ,CAACD,QAAhC,CAAJ,CAA+C,CAC3CI,QAAQ,CAAC,0BAAD,CAAR,CACA,OACH,CACDd,KAAK,CAACoB,IAAN,CAAW,yBAAX,CAAsCT,QAAtC,EACKU,IADL,CACU,SAAAC,QAAQ,CAAI,CACdd,QAAQ,CAAC,CAAEe,IAAI,CAAE,WAAR,CAAqBb,QAAQ,CAAEY,QAAQ,CAACE,IAAxC,CAAD,CAAR,CACAjB,QAAQ,CAAC,YAAD,CAAR,CACAkB,OAAO,CAACC,GAAR,CAAYJ,QAAZ,EACH,CALL,EAMKK,KANL,CAMW,SAAAC,KAAK,QAAIH,CAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ,CAAJ,EANhB,EAOH,CAbL,mBAlBJ,cAiCI,UAAG,EAAE,CAAC,KAAN,uBACI,mBAAIf,QAAJ,EADJ,EAjCJ,GADJ,EADJ,CAyCH,CAnDD","sourcesContent":["import axios from 'axios';\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport \"./style/LoginRegister.css\";\n\nexport default (props) => {\n    const navigate = useNavigate();\n    const dispatch = useDispatch();\n    const [userData, setUserData] = useState({\n        password: '',\n        username: '',\n    })\n    const [errorMsg, setError] = useState(null);\n    const [loggedInName, setLoggedInName] = useState('');\n\n    return (\n        <div>\n            <section className=\"form\">\n                <h1>Login</h1>\n                <h5>Username: </h5>\n                <input className=\"input\" value={userData.username} onChange={(e) => {\n                    const username = e.target.value;\n                    setUserData({\n                        ...userData,\n                        username: username\n                    })\n                }} />\n                <h5>Password: </h5>\n                <input className=\"input\" value={userData.password} onChange={(e) => {\n                    const password = e.target.value;\n                    setUserData({\n                        ...userData,\n                        password: password\n                    })\n                }} type='password' />\n                <button id=\"log-register-btn\"\n                    onClick={() => {\n                        if (!(userData.password && userData.username)) {\n                            setError(\"You must fill all field!\");\n                            return;\n                        }\n                        axios.post('/api/users/authenticate', userData)\n                            .then(response => {\n                                dispatch({ type: 'LOGGED_IN', username: response.data });\n                                navigate(\"/jobSearch\")\n                                console.log(response)\n                            })\n                            .catch(error => console.log(error));\n                    }}\n                >Login</button>\n                <p id=\"msg\">\n                    <b>{errorMsg}</b>\n                </p>\n            </section>\n        </div >\n    );\n}"]},"metadata":{},"sourceType":"module"}